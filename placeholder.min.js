(function(){var g,f;function a(p,o,k,q,h){if(!g||!f){g=document.createElement("canvas");f=g.getContext("2d")}g.width=parseInt(p[0]);g.height=parseInt(p[1]);f.clearRect(0,0,g.width,g.height);f.fillStyle=q;f.fillRect(0,0,g.width,g.height);f.fillStyle=k;f.font=h.style+" normal "+h.weight+" "+(h.size||40)+"px "+h.family;var j=1,n=40;if(h.size===""){var l=0.6*g.width,i=0.6*g.height,c=f.measureText(o).width,m=n;j=Math.min(l/c,i/m)}f.translate(g.width/2,g.height/2);f.scale(j,j);f.textAlign="center";f.textBaseline="middle";f.fillText(o,0,0);return g}function b(c){return d(c).toDataURL()}function e(){return"#"+("00000"+(Math.random()*16777216<<0).toString(16)).slice(-6)}function d(k){k=k||{};var j=k.size||"128x128",l=k.text||j,c=k.bgcolor||e(),i=k.color||e(),h=k.font||{};h={style:h.style||"normal",weight:h.weight||"bold",size:h.size||"",family:h.family||"consolas"};j=j.split("x");if(j.length!==2){j=[128,128]}return a(j,l,i,c,h)}window.placeholder={getData:b,getCanvas:d}})();